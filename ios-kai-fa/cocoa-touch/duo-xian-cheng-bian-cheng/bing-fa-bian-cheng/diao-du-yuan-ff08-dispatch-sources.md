# 调度源（Dispatch Sources）

无论何时您与底层系统进行交互，您都必须为该任务做好准备，以便花费很少的时间。调用内核或其他系统层涉及上下文的变化，与您自己的进程中发生的调用相比，这种变化相当昂贵。因此，许多系统库提供异步接口，以允许您的代码向系统提交请求，并在处理该请求时继续执行其他工作。Grand Central Dispatch 通过允许您提交请求并使用块和调度队列将结果报告回您的代码来构建此一般行为。

### 关于调度源

调度源是协调特定低级系统事件处理的基本数据类型。Grand Central Dispatch 支持以下类型的调度源：

* 定时器调度源生成定期通知。

* 信号调度源在 UNIX 信号到达时通知您。

* 描述符来源通知您各种基于文件和基于套接字的操作，例如：

  * 数据可供阅读时

  * 何时可以写入数据

  * 在文件系统中删除，移动或重命名文件时

  * 文件元信息发生变化时

* 流程调度源通知您与流程相关的事件，例如：

  * 当一个进程退出

  * 当进程发出fork或exec类型的调用时

  * 当一个信号被传递给过程时

* \_Mach port dispatch sources\_notify you of Mach-related events。

* 自定义调度源是您定义并触发自己的来源

### 创建调度源

##### 编写和安装事件处理程序

##### 安装取消处理程序

##### 更改目标队列

##### 将自定义数据与调度源相关联

##### 调度源的内存管理

### 调度源示例

##### 创建一个计时器

##### 从描述符读取数据

##### 将数据写入描述符

##### 监视文件系统对象

##### 监测信号

##### 监视进程

### 取消调度源

### 暂停和恢复调度源



