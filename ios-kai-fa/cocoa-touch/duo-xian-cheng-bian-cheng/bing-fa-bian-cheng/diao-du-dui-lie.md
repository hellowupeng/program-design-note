# 调度队列（Dispatch Queues）

Grand Central Dispatch（GCD）调度队列是执行任务的强大工具。调度队列让你可以与调用者异步或同步地执行任意代码块。您可以使用调度队列来执行几乎所有用于在单独的线程上执行的任务。调度队列的优点是它们比相应的线程代码更简单，更有效地执行这些任务。

#### 关于调度队列

调度队列是一种在应用程序中异步执行任务的简单方法。任务只是您的应用程序需要执行的一些工作。例如，您可以定义一个任务来执行一些计算，创建或修改数据结构，处理从文件读取的某些数据或任何数量的事物。您可以通过将相应的代码放入函数或块对象中并将其添加到调度队列来定义任务。

调度队列是一个类似于对象的结构，用于管理您向其提交的任务。所有的调度队列都是先进先出的数据结构。因此，添加到队列中的任务始终以与添加队列相同的顺序开始。GCD会自动为您提供一些调度队列，但您可以为特定目的创建其他调度队列。

调度队列的类型：

* Serial（串行）

串行队列（也称为私有调度队列）按照它们被添加到队列中的顺序每次执行一个任务。当前正在执行的任务运行在由调度队列管理的不同线程上（可能因任务而异）。串行队列通常用于同步对特定资源的访问。

您可以根据需要创建尽可能多的串行队列，并且每个队列都可以与所有其他队列同时运行。换句话说，如果你创建了四个串行队列，每个队列一次只执行一个任务，但最多可以同时执行四个任务，每个队列一个。

* Concurrent（并行）

并发队列（也称为全局调度队列）同时执行一个或多个任务，但任务仍按其添加到队列中的顺序启动。当前正在执行的任务在由调度队列管理的不同线程上运行。在任何给定点执行的任务的确切数量是可变的，并取决于系统条件。

在 iOS 5 以后的版本，您可以通过将 DISPATCH\_QUEUE\_CONCURRENT 指定为队列类型来自己创建并发调度队列。另外，还有四个预定义的全局并发队列供您的应用程序使用。

* Main dispatch queue（主调度队列）

主调度队列是一个全局可用的串行队列，用于执行应用程序主线程上的任务。该队列与应用程序的运行循环（如果存在的话）一起工作，以将排队任务的执行与附加到运行循环的其他事件源的执行交错​​。因为它运行在应用程序的主线程上，所以主队列通常用作应用程序的关键同步点。虽然您不需要创建主调度队列，但您确实需要确保您的应用程序正确排除它。





### 与队列相关的技术

### 使用块实现任务

### 创建和管理调度队列

### 将任务添加到队列

### 暂停和恢复队列

### 使用调度信号来调节有限资源的使用

### 等待排队任务组



