# 创建一个托管对象模型

Core Data 的许多功能取决于您创建的模式来描述应用程序的实体，它们的属性以及它们之间的关系。Core Data 使用称为托管对象模型的模式 - `NSManagedObjectModel`的一个实例。一般来说，模型越丰富，Core Data就能够更好支持您的应用程序。

托管对象模型允许Core Data从持久性存储中的记录映射到您在应用程序中使用的托管对象。该模型是实体描述对象（`NSEntityDescription`的实例）的集合。实体描述根据名称，用于在应用程序中表示实体的类的名称以及它具有的属性（属性和关系）来描述实体（您可以将其视为数据库中的表）。

### 创建一个实体及其属性

当您在Xcode中启动一个新项目并打开模板选择对话框时，选择使用Core Data复选框。Core Data 模型的源文件被创建为模板的一部分。该源文件将具有扩展名`.xcdatamodeld`。在导航区中选择该文件以显示核心数据模型编辑器。

**要创建一个实体**

1. 点击添加实体。

   导航区域（navigator area）的实体列表中会出现一个新的无标题实体。

2. 选择新的无标题实体。

3. 在数据模型检查器（Data Model inspector）的实体窗格中，输入实体的名称（name of the entity），然后按回车键。

**为实体创建属性和关系**

1. 选择新实体后，单击相应部分底部的添加按钮（+）。

   在编辑器区域的“属性”或“关系”部分添加新的无标题属性（attribute）或关系（通常称为属性（property））。

2. 选择新的无标题属性。

   属性设置显示在“数据模型”检查器的“关系”窗格或“属性”窗格中。

3. 给该属性一个名称，然后按回车键。

   属性或关系信息出现在编辑器区域中。

图2-1 Xcode数据模型编辑器中的Employee实体：![](/assets/Employee entity in the Xcode Data Model editor.png)此时您已在模型中创建了一个实体，但尚未创建任何数据。数据在您启动应用程序稍后创建。这些实体将在您的应用程序中用作创建托管对象（`NSManagedObject`实例）的基础。

### 定义一个实体



