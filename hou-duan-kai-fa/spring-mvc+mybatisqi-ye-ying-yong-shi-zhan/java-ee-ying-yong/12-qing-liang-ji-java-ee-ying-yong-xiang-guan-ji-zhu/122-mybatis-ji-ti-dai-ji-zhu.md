# 1.2.2 MyBatis 及替代技术

传统 Java 应用 采用 JDBC 访问数据库。

ORM（Object Relation Mapping）技术，最早的 ORM 是 Entity EJ（Enterprise JavaBean），EJB 是经典 Java EE 应用的核心。

Hibernate 框架是一种开源的、轻量级的 ORM 框架，将普通的、传统的 Java 对象（POJO）映射成持久化类，允许应用程序以面向对象的方式操作 POJO，而 Hibernate 框架负责将这种操作转换成底层的 SQL 操作。

Hibernate 的一站式解决方案不适合的地方：

* 系统的部分或全部数据库来自现有数据库，出于安全考虑，只对开发团队提供几条 Select SQL（或存储过程）以获取所需数据，具体的表结构不予公开。
* 开发规范中要求，所有牵涉到业务部分的数据库操作，必须在数据库层由存储过程实现。
* 系统数据处理量巨大，性能要求极为苛刻，这往往意味着我们必须通过经过高度优化的 SQL 语句（或存储过程）才能达到系统性能设计指标。

“全自动” ORM 实现了 POJO 和数据库表之间的映射，以及 SQL 的自动生成和执行。使用 MyBatis 提供的 ORM机制（半自动），对业务逻辑实现人员而已，面对的是纯粹的 Java 对象，这一层与通过 Hibernate 实现 ORM 而言基本一致，而对于具体的数据操作，Hibernate 会自动生成 SQL 语句，而 MyBatis 不会为程序员在运行期自动生成 SQL 执行。具体的 SQL 需要程序员编写，然后通过映射配置文件，将 SQL 所需的参数以及返回的结果字段映射到指定的 POJO。

MyBatis 是 Apache 组织提供的一个轻量级持久层框架，是一个支持普通 SQL 查询、存储过程和高级映射的优秀持久层框架。MyBatis 消除了几乎所有的 JDBC 代码和参数的手工设置过程以及对结果集的检索封装。MyBatis 可以使用简单的 XML 或注解来进行配置和原始映射，将接口和 Java 的 POJO 映射成数据库中的记录。

MyBatis 作为持久层框架，其主要思想是将程序的大量 SQL 语句剥离出来，配置在配置文件中，实现 SQL 的灵活配置。这样做的好处是将 SQL 与程序代码分离，可以在不修改程序代码的情况下，直接在配置文件中修改 SQL。





